title: Welcome to uBlue
properties:
  mode: "run-on-change"
screens:
  first-screen:
    source: yafti.screen.title
    values:
      title: "Welcome to Fedora Milana (Alpha)"
      icon: "/path/to/icon"
      description: |
        Pick some applications to get started
  can-we-modify-your-flatpaks:
    source: yafti.screen.consent
    values:
      title: Welcome
      condition:
        run: flatpak remotes --system | grep fedora
      description: |
        WARNING: This will modify your Flatpaks if you are rebasing! If you do not want to do this exit the installer.
      actions:
        - run: flatpak remote-delete fedora --force
        - run: flatpak remove --system --noninteractive --all
        - run: flatpak remote-add --if-not-exists --user flathub https://flathub.org/repo/flathub.flatpakrepo
  applications:
    source: yafti.screen.package
    values:
      title: Application Installation
      show_terminal: true
      package_manager: yafti.plugin.flatpak
      groups:
        Core:
          description: Core Applications
          default: true
          packages:
            - Document Viewer: org.gnome.Evince
            - Fedora Media Writer: org.fedoraproject.MediaWriter
            - Mozilla Firefox: org.mozilla.firefox
            - Flatseal Permissions Manager: com.github.tchx84.Flatseal
            - Picture Viewer: org.gnome.eog
        Office:
          description: Office and Productivity 
          default: false
          packages:
            - LibreOffice: org.libreoffice.LibreOffice
            - PDF Arranger: com.github.jeromerobert.pdfarranger
        Gaming:
          description: Gaming
          default: false
          packages:
            - Bottles: com.usebottles.bottles
            - Discord: com.discordapp.Discord
            - Heroic Games Launcher: com.heroicgameslauncher.hgl
            - Steam: com.valvesoftware.Steam
            - Gamescope for Steam: com.valvesoftware.Steam.Utility.gamescope
            - ProtonPlus: com.vysp3r.ProtonPlus
        Communication:
          description: Communication and chat
          default: false
          packages:
            - Discord: com.discordapp.Discord
            - Thunderbird Email: org.mozilla.Thunderbird
            - Signal: org.signal.Signal
            - Viber: com.viber.Viber
            - Skype: com.skype.Client
            - Telegram Desktop: org.telegram.Telegram 
        Graphics:
          description: Graphics and Image Manipulation
          default: false
          packages:
            - Gnu Image Manipulation Program: org.gimp.GIMP
            - Inkscape: org.inkscape.Inkscape
            - Upscaler: io.gitlab.theevilskeleton.Upscaler
            - YOGA Image Optimizer: org.flozz.yoga-image-optimizer
        Development:
          description: Development and Coding
          default: false
          packages:
            - Share Preview: com.rafaelmardojai.SharePreview
            - Eyedropper: com.github.finefindus.Eyedropper            
  final-screen:
    source: yafti.screen.title
    values:
      title: "All done!"
      icon: "/path/to/icon"
      links:
        - "Install More Applications":
            run: /usr/bin/xdg-open https://flathub.org/
        - "Website":
            run: /usr/bin/xdg-open https://ublue.it
        - "Join the Discord Community":
            run: /usr/bin/xdg-open https://discord.gg/XjG48C7VHx
      description: |
        Thanks for trying uBlue (Milana version), we hope you enjoy it!
